{"remainingRequest":"/Users/sc/shopping_mall_in_the_mall/nofire/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sc/shopping_mall_in_the_mall/nofire/src/views/tablex/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sc/shopping_mall_in_the_mall/nofire/src/views/tablex/index.vue","mtime":1609134350230},{"path":"/Users/sc/shopping_mall_in_the_mall/nofire/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sc/shopping_mall_in_the_mall/nofire/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/sc/shopping_mall_in_the_mall/nofire/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sc/shopping_mall_in_the_mall/nofire/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKCmV4cG9ydCBkZWZhdWx0IHsKICBmaWx0ZXJzOiB7CiAgICBzdGF0dXNGaWx0ZXIoc3RhdHVzKSB7CiAgICAgIGNvbnN0IHN0YXR1c01hcCA9IHsKICAgICAgICBwdWJsaXNoZWQ6ICdzdWNjZXNzJywKICAgICAgICBkcmFmdDogJ2dyYXknLAogICAgICAgIGRlbGV0ZWQ6ICdkYW5nZXInCiAgICAgIH0KICAgICAgcmV0dXJuIHN0YXR1c01hcFtzdGF0dXNdCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogbnVsbCwKICAgICAgbGlzdExvYWRpbmc6IHRydWUKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoRGF0YSgpCiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaERhdGEoKSB7CiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSB0cnVlCiAgICAgIGNvbnN0IF90aGlzID0gdGhpcwogICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9pZnAvZ2V0TGlzdCcpCiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzLmxpc3QgPSByZXNwb25zZS5kYXRhCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IF90aGlzLmxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKF90aGlzLmxpc3RbaV0uYWxhcm1MZXZlbCA9PT0gMSkgewogICAgICAgICAgICAgIF90aGlzLmxpc3RbaV0uYWxhcm1MZXZlbCA9ICfkuIDnuqcnCiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMubGlzdFtpXS5hbGFybUxldmVsID09PSAyKSB7CiAgICAgICAgICAgICAgX3RoaXMubGlzdFtpXS5hbGFybUxldmVsID0gJ+S6jOe6pycKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpcy5saXN0W2ldLmFsYXJtTGV2ZWwgPSAn5LiJ57qnJwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChfdGhpcy5saXN0W2ldLmlkZW50aWZpY2F0aW9uID09PSAneScpIHsKICAgICAgICAgICAgICBfdGhpcy5saXN0W2ldLmlkZW50aWZpY2F0aW9uID0gJ+W3suWkhOeQhicKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpcy5saXN0W2ldLmlkZW50aWZpY2F0aW9uID0gJ+acquWkhOeQhicKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgY29uc29sZS5sb2coX3RoaXMubGlzdCkKICAgICAgICAgIF90aGlzLmxpc3RMb2FkaW5nID0gZmFsc2UKICAgICAgICB9KQogICAgfSwKICAgIGJ0bihpbmRleCkgewogICAgICBjb25zdCBfdGhpcyA9IHRoaXMKICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwODEvaWZwL3VwZGF0ZT9pZD0nICsgaW5kZXgpCiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09PSAnc3VjY2VzcycpIHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkKICAgICAgICAgICAgX3RoaXMuZmV0Y2hEYXRhKCkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/tablex","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-table\n      v-loading=\"listLoading\"\n      :data=\"list\"\n      element-loading-text=\"Loading\"\n      border\n      fit\n      highlight-current-row\n    >\n      <el-table-column align=\"center\" label=\"ID\" width=\"95\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.deviceId }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"Name\" width=\"110\" align=\"center\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.deviceName }}\n        </template>\n      </el-table-column>\n      <el-table-column label=\"AlarmLevel\" width=\"110\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <span>{{ scope.row.alarmLevel }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"Address\" align=\"center\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.address }}\n        </template>\n      </el-table-column>\n      <el-table-column class-name=\"status-col\" label=\"Status\" width=\"110\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-tag :type=\"scope.row.identification | statusFilter\">{{ scope.row.identification }}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column align=\"center\" prop=\"created_at\" label=\"Dlarm Time\" width=\"200\">\n        <template slot-scope=\"scope\">\n          <i class=\"el-icon-time\" />\n          <span>{{ scope.row.alarmTime }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"Edit\" width=\"110\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button\n            size=\"mini\"\n            type=\"success\"\n            @click=\"btn(scope.row.deviceId)\"\n          >处理</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  filters: {\n    statusFilter(status) {\n      const statusMap = {\n        published: 'success',\n        draft: 'gray',\n        deleted: 'danger'\n      }\n      return statusMap[status]\n    }\n  },\n  data() {\n    return {\n      list: null,\n      listLoading: true\n    }\n  },\n  created() {\n    this.fetchData()\n  },\n  methods: {\n    fetchData() {\n      this.listLoading = true\n      const _this = this\n      axios.get('http://localhost:8081/ifp/getList')\n        .then(function(response) {\n          _this.list = response.data\n          for (let i = 0; i < _this.list.length; i++) {\n            if (_this.list[i].alarmLevel === 1) {\n              _this.list[i].alarmLevel = '一级'\n            } else if (_this.list[i].alarmLevel === 2) {\n              _this.list[i].alarmLevel = '二级'\n            } else {\n              _this.list[i].alarmLevel = '三级'\n            }\n            if (_this.list[i].identification === 'y') {\n              _this.list[i].identification = '已处理'\n            } else {\n              _this.list[i].identification = '未处理'\n            }\n          }\n          console.log(_this.list)\n          _this.listLoading = false\n        })\n    },\n    btn(index) {\n      const _this = this\n      axios.get('http://localhost:8081/ifp/update?id=' + index)\n        .then(function(response) {\n          if (response.data === 'success') {\n            console.log(response.data)\n            _this.fetchData()\n          }\n        })\n    }\n  }\n}\n</script>\n"]}]}